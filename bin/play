#!/usr/bin/env ruby

require 'dispel'
require 'pry'
require './nethack'

# draw app and redraw after each keystroke
game = Game.new

Dispel::Screen.open do |screen|

  screen.draw game.setup

  Dispel::Keyboard.output do |key|
    break if key == :"Ctrl+c"
    screen.draw game.step(key)
  end
end
